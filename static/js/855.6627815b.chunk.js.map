{"version":3,"file":"static/js/855.6627815b.chunk.js","mappings":"2PACA,EAAuB,mBAAvB,EAAiD,mBAAjD,EAA0E,kBAA1E,EAAmG,mB,SCItFA,EAAO,WAClB,OAA4BC,EAAAA,EAAAA,UAAS,IAArC,eAAOC,EAAP,KAAeC,EAAf,KACQC,GAAYC,EAAAA,EAAAA,MAAZD,QACR,GAA0BH,EAAAA,EAAAA,UAAS,MAAnC,eAAOK,EAAP,KAAcC,EAAd,KACA,GAA8BN,EAAAA,EAAAA,WAAS,GAAvC,eAAOO,EAAP,KAAgBC,EAAhB,KAiBA,OAfAC,EAAAA,EAAAA,YAAU,WACR,IAAMC,EAAS,mCAAG,sGAEdF,GAAW,GAFG,UAGSG,EAAAA,EAAAA,IAAgBR,GAHzB,gBAGNS,EAHM,EAGNA,KACRV,EAAUU,GAJI,gDAMdN,EAAS,kCANK,yBAQdE,GAAW,GARG,4EAAH,qDAWfE,MACC,CAACP,KAGF,gCACGI,GAAW,aACXF,IAAS,yBAAMA,KAChB,eAAIQ,UAAWC,EAAf,SACGC,QAAO,OAACd,QAAD,IAACA,OAAD,EAACA,EAAQe,SACff,EAAOgB,KAAI,SAAAC,GACT,OACE,gBAAqBL,UAAWC,EAAhC,WACE,gBACEK,IACED,EAAQE,aAAR,yCACsCF,EAAQE,cAD9C,qLAIFC,IAAG,UAAKH,EAAQI,MAAb,aACHT,UAAWC,KAEb,4BACE,eAAGD,UAAWC,EAAd,mBAAkCI,EAAQK,SAC1C,eAAGV,UAAWC,EAAd,wBAAuCI,EAAQM,kBAZ1CN,EAAQO,c,iMC9BzBC,EAAgB,CACpBC,QAHc,oCAMVC,E,MAAkBC,GAAAA,OAAa,CACnCC,QANe,gCAOfC,OAAQL,IAGGM,EAAW,mCAAG,sGACFJ,EAAgBK,IAAI,wBADlB,uBACjBC,EADiB,EACjBA,KADiB,kBAElBA,GAFkB,2CAAH,qDAIXC,EAAiB,mCAAG,WAAMC,GAAN,yFAERR,EAAgBK,IAAI,gBAAiB,CAC1DF,OAAQ,CAAEK,MAAAA,KAHmB,uBAEvBF,EAFuB,EAEvBA,KAFuB,kBAKxBA,GALwB,2CAAH,sDAQjBG,EAAe,mCAAG,WAAMZ,GAAN,yFACNG,EAAgBK,IAAhB,gBAA6BR,IADvB,uBACrBS,EADqB,EACrBA,KADqB,kBAEtBA,GAFsB,2CAAH,sDAKfvB,EAAe,mCAAG,WAAMc,GAAN,yFAENG,EAAgBK,IAAhB,iBAA8BR,EAA9B,aAFM,uBAErBS,EAFqB,EAErBA,KAFqB,kBAGtBA,GAHsB,2CAAH,sDAMfI,EAAiB,mCAAG,WAAMb,GAAN,yFACRG,EAAgBK,IAAhB,mBAChBR,EADgB,aADQ,uBACvBS,EADuB,EACvBA,KADuB,kBAGxBA,GAHwB,2CAAH","sources":["webpack://react-homework-template/./src/components/Cast/Cast.module.css?c9ee","components/Cast/Cast.js","service/service.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"list\":\"Cast_list__GlWio\",\"item\":\"Cast_item__a0CDL\",\"img\":\"Cast_img__-isbW\",\"text\":\"Cast_text__P2vgu\"};","import { fetchCastMovies } from 'service/service';\nimport { useState, useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\nimport styles from '../Cast/Cast.module.css';\n\nexport const Cast = () => {\n  const [actors, setActors] = useState([]);\n  const { movieId } = useParams();\n  const [error, setError] = useState(null);\n  const [loading, setLoading] = useState(false);\n\n  useEffect(() => {\n    const getActors = async () => {\n      try {\n        setLoading(true);\n        const { cast } = await fetchCastMovies(movieId);\n        setActors(cast);\n      } catch (error) {\n        setError('Ooops. Something went wrong...');\n      } finally {\n        setLoading(false);\n      }\n    };\n    getActors();\n  }, [movieId]);\n\n  return (\n    <>\n      {loading && 'Loading...'}\n      {error && <div>{error}</div>}\n      <ul className={styles.list}>\n        {Boolean(actors?.length) &&\n          actors.map(element => {\n            return (\n              <li key={element.id} className={styles.item}>\n                <img\n                  src={\n                    element.profile_path\n                      ? `https://image.tmdb.org/t/p/w500${element.profile_path}`\n                      : `https://защитныетенты.рф/kernel/preview.php?file=shop/goods/nophoto.jpg&width=400&height=300&method=add`\n                  }\n                  alt={`${element.title} portrait`}\n                  className={styles.img}\n                />\n                <div>\n                  <p className={styles.text}>Name: {element.name}</p>\n                  <p className={styles.text}>Character: {element.character}</p>\n                </div>\n              </li>\n            );\n          })}\n      </ul>\n    </>\n  );\n};\n","import axios from 'axios';\n\nconst KEY_API = '7a4cd4317772102a9b88ef6a54b71590';\nconst BASE_URL = 'https://api.themoviedb.org/3/';\nconst defaultParams = {\n  api_key: KEY_API,\n};\n\nconst moviesApiClient = axios.create({\n  baseURL: BASE_URL,\n  params: defaultParams,\n});\n\nexport const fetchMovies = async () => {\n  const { data } = await moviesApiClient.get('/trending/movie/week');\n  return data;\n};\nexport const fetchSearchMovies = async query => {\n  // console.log(query);\n  const { data } = await moviesApiClient.get('/search/movie', {\n    params: { query },\n  });\n  return data;\n};\n\nexport const fetchMoviesById = async id => {\n  const { data } = await moviesApiClient.get(`movie/${id}`);\n  return data;\n};\n\nexport const fetchCastMovies = async id => {\n  // console.log(id);\n  const { data } = await moviesApiClient.get(`/movie/${id}/credits`);\n  return data;\n};\n\nexport const fetchRewiesMovies = async id => {\n  const { data } = await moviesApiClient.get(`\n/movie/${id}/reviews`);\n  return data;\n};\n"],"names":["Cast","useState","actors","setActors","movieId","useParams","error","setError","loading","setLoading","useEffect","getActors","fetchCastMovies","cast","className","styles","Boolean","length","map","element","src","profile_path","alt","title","name","character","id","defaultParams","api_key","moviesApiClient","axios","baseURL","params","fetchMovies","get","data","fetchSearchMovies","query","fetchMoviesById","fetchRewiesMovies"],"sourceRoot":""}